package com.javatechie.crud.example.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RestController;

import com.javatechie.crud.example.entity.Product;
import com.javatechie.crud.example.service.ProductService;

// This controller will talk to the service class
// For that we need to inject service in controller class
@RestController
public class ProductController {

	@Autowired // Inject 'ProductService' in 'ProductController' using @Autowirted annotation
	private ProductService service;

	// We will return the 'Product' object
	// We will pass method argument as 'Product' object
	// This is the post method and method argument is our request body
	// Thus we need to annotate it as @RequestBody
	// So that input JSON can be passed to 'Product' object
	// This is post method so add annotation @PostMapping and give URL
	@PostMapping("/addProduct")
	public Product addProduct(@RequestBody Product product) {
		return service.saveProduct(product); // We can directly call 'service'
	}

	// Similarly We have one more method to save list of 'Product' object
	// This is post method so add annotation @PostMapping and give URL
	@PostMapping("/addProducts")
	public List<Product> addProducts(@RequestBody List<Product> products) {
		return service.saveProducts(products); // We can directly call 'service'
	}

	// Similarly we will write for get API
	// This is get API for that we need to annotate @GetMapping
	@GetMapping("/getAllProducts")
	public List<Product> getAllProducts() {
		return service.getProducts(); // We can directly return from 'service'
	}

	// This is get API for that we need to annotate @GetMapping
	@GetMapping("/getProductById")
	public Product getProductById(int id) {
		return service.getProductById(id);
	}

	// This is get API for that we need to annotate @GetMapping
	@GetMapping("/getProductByName")
	public Product getProductByName(String name) {
		return service.getProductByName(name);
	}
}
